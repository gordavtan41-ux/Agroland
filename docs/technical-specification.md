# Техническое задание (уточнённая версия)

## 1. Введение
Настоящее ТЗ определяет требования к разработке настольной ИС ООО «АгроЛэнд» для автоматизации учёта продукции, поставок, заказов, остатков и аналитики.

## 2. Основание
Основание: задание заказчика (руководитель ООО «АгроЛэнд»).

Тема: **«Система учёта складских запасов, поставок и заказов ООО „АгроЛэнд“»**.

## 3. Назначение
### 3.1 Функциональное
Автоматизация:
- складского учёта;
- заказов клиентов;
- поставок от поставщиков;
- ролевого доступа;
- формирования отчётов и печатных накладных.

### 3.2 Эксплуатационное
Работа сотрудников через GUI в ОС Windows.

## 4. Функциональные требования

### 4.1 Авторизация
Экран входа:
- поле логина;
- поле пароля;
- кнопка «Войти»;
- сообщение об ошибке при неверных данных.

### 4.2 Роли и доступ

#### 4.2.1 Общие функции авторизованного пользователя
- поиск продукции;
- фильтрация по категориям;
- просмотр уведомлений о низком остатке;
- смена пароля;
- выход из системы.

#### 4.2.2 Менеджер
- создание заказа клиента;
- изменение статуса заказа;
- печать накладной на отпуск;
- редактирование клиента.

#### 4.2.3 Администратор
- добавление продукции;
- регистрация поставок;
- печать накладной на приёмку;
- управление пользователями;
- блокировка/разблокировка учётных записей;
- корректировка складских остатков.

#### 4.2.4 Руководитель
- отчёт по остаткам;
- отчёт по выручке;
- анализ доходов по клиентам;
- экспорт аналитики в PDF.

### 4.3 Учёт пользователей
Сущность пользователя:
- логин (уникальный);
- пароль (хэш);
- ФИО;
- должность;
- роль;
- статус учётной записи.

Правила:
- вход только для активных учётных записей;
- блокировка запрещает вход;
- изменение роли применяется при следующей авторизации.

### 4.4 Учёт продукции
Поля товара:
- наименование;
- категория;
- единица измерения;
- цена;
- текущий остаток;
- минимальный остаток.

Правила:
- остаток увеличивается поставками;
- остаток уменьшается выполненными заказами;
- отрицательный остаток запрещён.

### 4.5 Учёт поставок
Поставка содержит:
- поставщика;
- дату;
- список позиций и количество;
- комментарий.

После сохранения:
- обновление остатков;
- запись в историю;
- доступность печати накладной.

### 4.6 Учёт заказов
Заказ содержит:
- клиента;
- дату;
- статус;
- список позиций и количество.

Статусы заказа:
- `Черновик`;
- `В процессе`;
- `Готов к отгрузке`;
- `Выполнен`;
- `Отменён`.

### 4.7 Отчёты
Обязательные отчёты:
- по остаткам;
- по поставкам за период;
- по заказам;
- по доходам по клиентам;
- по выручке за период.

Требования:
- фильтрация и сортировка;
- табличный экранный вид;
- экспорт в PDF;
- ролевые ограничения.

### 4.8 Печать
Печатные формы:
- накладная по поставке;
- накладная по заказу клиента.

Документы содержат:
- реквизиты компании;
- реквизиты контрагента;
- таблицу позиций;
- дату и номер документа;
- подписи сторон.

### 4.9 Уведомления
- товары ниже минимального остатка;
- заказы в статусе «В процессе» сверх допустимого срока.

## 5. Требования к данным и БД
СУБД: PostgreSQL.

Основные таблицы:
- `users`, `suppliers`, `clients`, `products`,
- `supplies`, `supply_items`, `orders`, `order_items`.

Обязательна ссылочная целостность через PK/FK.

## 6. Совместимость и защита
- ОС: Windows;
- Frontend: React;
- API-взаимодействие клиент/сервер.

Безопасность:
- авторизация;
- разграничение прав;
- запрет вызова чужих по роли функций.

## 7. Этапы разработки
1. Анализ предметной области.
2. Проектирование архитектуры, БД и интерфейсов.
3. Реализация модулей.
4. Тестирование функционала и ролей.
5. Ввод в эксплуатацию.

## 8. Критерии приёмки
Система принимается после успешного функционального тестирования и подтверждения соответствия требованиям настоящего ТЗ.
